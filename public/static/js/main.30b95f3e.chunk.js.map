{"version":3,"sources":["components/MainDashBoard/index.js","pages/Home.js","service/TicketService.js","components/EditTicket/index.js","components/DeleteTicket/index.js","components/TicketsAdmin/index.js","pages/Tickets.js","components/NavBar/index.js","providers/StateProvider.js","App.js","reportWebVitals.js","reducers/reducer.js","index.js"],"names":["socket","MainDashBoard","useState","lanes","id","title","cards","socketData","setSocketData","dataID","setDataId","useEffect","io","emit","off","on","initialData","console","log","_id","style","backgroundColor","data","onDataChange","onCardMoveAcrossLanes","editable","Home","BASE_URL","getAllTickets","a","axios","get","response","editTicket","description","laneId","put","deleteTicket","delete","EditTicket","ticket","updateTicketTable","setModal","descrizione","setDescrizione","loading","setLoading","handleSubmit","e","preventDefault","ticketObj","target","value","onSubmit","type","name","className","for","resize","rows","onChange","Spinner","color","size","onClick","DeleteTicket","handleDeleteTicket","icon","TicketsAdmin","setData","chiavi","setChiavi","modal","modalDelete","setModalDelete","row","setRow","ticketToDelete","setTicketToDelete","then","dati","results","Object","keys","map","item","catch","err","statusMapper","status","toggle","toggleDelete","length","Table","responsive","hover","chiave","riga","idx","scope","substring","Button","Modal","isOpen","ModalHeader","ModalBody","Tickets","NavBar","collapsed","setCollapsed","Navbar","expand","dark","NavbarBrand","NavbarToggler","Collapse","navbar","Nav","NavItem","NavLink","to","StateContext","createContext","StateProvider","reducer","initialState","children","Provider","useReducer","App","useContext","user","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","JSON","parse","sessionStorage","getItem","actionTypes","state","action","setItem","stringify","removeItem","library","add","faPlusCircle","faCheckCircle","faWrench","faTasks","faEdit","faTrashAlt","faArrowRight","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.30b95f3e.chunk.js","sourcesContent":["import { useState , useEffect} from 'react';\r\nimport './MainDashBoard.css';\r\nimport Board from 'react-trello';\r\nimport io from \"socket.io-client\";\r\n\r\n\r\n\r\n\r\nlet socket;\r\n  \r\nexport const MainDashBoard = ()=>{\r\n\r\n    const [socketData , setSocketData] = useState({lanes:[{\r\n        id: '1',\r\n        title: 'Nuovi',\r\n        cards: []\r\n      },{\r\n        id: '2',\r\n        title: 'In Carico',\r\n        \r\n        cards: []\r\n      },{\r\n        id: '3',\r\n        title: 'Completed',\r\n        cards: []\r\n      }]});\r\n    const [dataID , setDataId] = useState('');\r\n\r\n    useEffect(()=>{\r\n        socket = io();\r\n\r\n        socket.emit('JOIN')\r\n\r\n        return () => {\r\n            socket.off();\r\n        };\r\n\r\n    },[])\r\n\r\n    useEffect(()=>{\r\n        socket.on('CURRENT_BOARD_STATUS',(initialData)=>{\r\n            console.log(initialData)\r\n            setDataId(initialData?._id);\r\n            delete initialData[\"_id\"]\r\n            \r\n            setSocketData(initialData);\r\n        })\r\n\r\n        return () => {\r\n            socket.off();\r\n        };\r\n\r\n    },[])\r\n\r\n\r\nconst handleChange = (lanes)=>{\r\n\r\n    console.log('LANES',{...lanes,_id:dataID})\r\n    \r\n    setSocketData(lanes);\r\n    //socket.emit('BOARD_UPDATE',{...lanes,_id:dataID})\r\n    \r\n    \r\n}\r\n\r\nconst onCardMoveAcrossLanes = ()=>{\r\n    console.log('DRAG')\r\n    socket.emit('BOARD_UPDATE',{...socketData,_id:dataID})\r\n}\r\n\r\n\r\n    \r\n    return(\r\n        <Board style={{backgroundColor: 'white'}}\r\n         data={socketData} \r\n         onDataChange={handleChange}\r\n         onCardMoveAcrossLanes={onCardMoveAcrossLanes}\r\n         editable/>\r\n    )\r\n}\r\n\r\n","import { MainDashBoard } from \"../components/MainDashBoard\"\r\n\r\n\r\nexport const Home = () => {\r\n\r\n    return (\r\n        <MainDashBoard/>\r\n    )\r\n}","import axios from \"axios\";\r\n\r\nexport const BASE_URL = '/api/tickets';\r\n\r\nexport const getAllTickets = async ()=>{\r\n\r\n    const response = await axios.get(BASE_URL);\r\n    return response.data\r\n}\r\n\r\nexport const editTicket = async ({id,title,description,laneId})=>{\r\n\r\n    const response = await axios.put(`${BASE_URL}/edit/${id}`,\r\n    {title,description,laneId}\r\n    );\r\n    return response.data\r\n}\r\n\r\nexport const deleteTicket = async({id,laneId})=>{\r\n\r\n    const response = await axios.delete(`${BASE_URL}/delete/${id}`,\r\n    {data:{laneId}}\r\n    );\r\n    return response.data\r\n\r\n}","import { useState } from \"react\";\r\nimport { Spinner } from 'reactstrap';\r\nimport { editTicket } from \"../../service/TicketService\";\r\n\r\nexport const EditTicket = ({ticket : {id,description,title,laneId},updateTicketTable,setModal})=>{\r\n\r\n    const [descrizione,setDescrizione] = useState(description);\r\n    const [loading,setLoading] = useState(false);\r\n\r\n    const handleSubmit = async(e)=>{\r\n\r\n        e.preventDefault();\r\n\r\n        const ticketObj = {\r\n            id,\r\n            title:e.target.title.value,\r\n            description : e.target.description.value,\r\n            laneId,\r\n        }\r\n\r\n        try{\r\n\r\n            setLoading(true);\r\n            await editTicket(ticketObj);\r\n            setLoading(false);\r\n            setModal(false);\r\n            updateTicketTable();\r\n\r\n        }catch(err){\r\n\r\n            setLoading(false);\r\n            console.log('ERR',err)\r\n        }\r\n\r\n        \r\n    }\r\n\r\n    return (\r\n        <>\r\n            <h4>{title}</h4>\r\n\r\n            <form onSubmit={handleSubmit}>\r\n                <input type=\"hidden\" id=\"title\" name=\"title\" value={title}></input>\r\n                <input type=\"hidden\" id=\"laneId\" name=\"laneId\" value={laneId}></input>\r\n                <div className=\"form-group\">\r\n                    <label for=\"description\">Descrizione :</label>\r\n                    <textarea style={{resize:\"none\"}} \r\n                    className=\"form-control\" \r\n                    id=\"description\" \r\n                    name=\"description\"\r\n                    rows=\"5\" \r\n                    value={descrizione}\r\n                    onChange={(e)=>setDescrizione(e.target.value)}\r\n                    ></textarea>\r\n                </div>\r\n                <div className=\"d-flex justify-content-around\">\r\n                    <button type=\"submit\" className=\"btn btn-primary\">Aggiorna {loading ? <Spinner color=\"light\" size=\"sm\"/>: null}</button>\r\n                    {' '}\r\n                    <button type=\"button\" className=\"btn btn-danger\" onClick={()=>setModal(false)}>Cancel</button>\r\n                </div>\r\n            </form>\r\n        </>\r\n    )\r\n}","import { useState } from \"react\";\r\nimport { Spinner } from \"reactstrap\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { deleteTicket } from \"../../service/TicketService\";\r\n\r\nexport const DeleteTicket = ({ticket : {id,laneId},updateTicketTable,setModal})=>{\r\n\r\n\r\n    const [loading,setLoading] = useState(false);\r\n\r\n    const handleDeleteTicket = async ()=>{\r\n\r\n        try {\r\n            setLoading(true);\r\n            await deleteTicket({id,laneId});\r\n            setLoading(false);\r\n            setModal(false);\r\n            updateTicketTable();\r\n        } catch (error) {\r\n            setLoading(false);\r\n            console.log('ERROR DELETING',error)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <p>Sei sicuro di voler eliminare?</p>\r\n            \r\n            <div className=\"d-flex justify-content-around\">\r\n                    <button \r\n                        type=\"button\" \r\n                        className=\"btn btn-danger\"\r\n                        onClick={handleDeleteTicket}\r\n                    >\r\n                        Elimina {loading ? <Spinner color=\"light\" size=\"sm\"/>: <FontAwesomeIcon icon={\"trash-alt\"}/>}\r\n                    </button>\r\n                    {' '}\r\n                    <button type=\"button\" className=\"btn btn-primary\" onClick={()=>setModal(false)}>Indietro <FontAwesomeIcon icon={\"arrow-right\"}/></button>\r\n                </div>\r\n        </div>\r\n    )\r\n}","import { useState , useEffect } from \"react\";\r\nimport { EditTicket } from \"../EditTicket\";\r\nimport { getAllTickets } from \"../../service/TicketService\";\r\nimport { Table,Button , Modal, ModalHeader, ModalBody } from 'reactstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { DeleteTicket } from \"../DeleteTicket\";\r\n\r\nexport const TicketsAdmin = ()=>{\r\n\r\n    const [data , setData] =useState([]);\r\n    const [chiavi , setChiavi ]=useState([]);\r\n    const [modal, setModal] = useState(false);\r\n    const [modalDelete, setModalDelete] = useState(false);\r\n    const [row, setRow] = useState({});\r\n    const [ticketToDelete , setTicketToDelete] = useState({});\r\n\r\n    const updateTicketTable = ()=>{\r\n\r\n        getAllTickets()\r\n         .then(dati => {\r\n            if(dati?.results[0]){\r\n                setData(dati?.results);    \r\n                setChiavi([...Object.keys(dati?.results[0]).map(item => 'laneId'===item ? item = 'status':item),'Edit','Delete']);\r\n            }else{\r\n                setData([]);\r\n                setChiavi(['id','title','description','status','Edit','Delete'])\r\n            }\r\n          })\r\n         .catch(err=>console.log('ERRORE : ',err))\r\n    }\r\n\r\n    useEffect(()=>{\r\n        updateTicketTable();\r\n    },[]);\r\n\r\n    const statusMapper = (status)=>{\r\n        switch (status) {\r\n            case \"1\":\r\n                return (<span><FontAwesomeIcon className=\"text-danger\"icon={\"tasks\"}/> Nuovo</span>);\r\n            case \"2\":\r\n                return (<span><FontAwesomeIcon className=\"text-warning\"icon={\"wrench\"}/> In Carico</span>);\r\n            \r\n            case \"3\":\r\n                return (<span><FontAwesomeIcon className=\"text-success\"icon={\"check-circle\"}/> Completed</span>);    \r\n        \r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    const toggle = (ticket = {}) =>{\r\n        setModal(!modal);\r\n        setRow(ticket);\r\n    } \r\n    const toggleDelete = (ticket = {}) =>{\r\n        setModalDelete(!modalDelete);\r\n        setTicketToDelete(ticket);\r\n    } \r\n\r\n   \r\n\r\n    return(\r\n        <>\r\n            {data.length>0 ? null:<h3 className=\"text-center mt-5\">No tickets to display..</h3>}\r\n            <Table responsive hover>\r\n                <thead>\r\n                <tr>\r\n                    {!!chiavi && chiavi.map(chiave=>(<th key={chiave}>{chiave}</th>))}\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                {data.map((riga , idx)=>(\r\n                    <tr key={riga?.id}>\r\n                        <th scope=\"row\">{riga?.id.substring(0,7)+'...'}</th>\r\n                        <td>{riga?.title}</td>\r\n                        <td>{riga?.description.substring(0,10)+'...'}</td>\r\n                        <td>{statusMapper(riga?.laneId)}</td>\r\n                        <td><Button color=\"primary\" onClick={()=>toggle(riga)}><FontAwesomeIcon icon={\"edit\"}/></Button></td>\r\n                        <td><Button color=\"danger\" onClick={()=>toggleDelete(riga)}><FontAwesomeIcon icon={\"trash-alt\"}/></Button></td>\r\n                    </tr>\r\n                ))}\r\n                </tbody>\r\n            </Table>\r\n            <Modal isOpen={modal} toggle={toggle} >\r\n                <ModalHeader toggle={toggle}>\r\n                    {statusMapper(row?.laneId)}\r\n                    <br/>\r\n                    <small>Ticket id : {row?.id}</small>\r\n                </ModalHeader>\r\n                <ModalBody>\r\n                    <EditTicket ticket={row} updateTicketTable={updateTicketTable} setModal={setModal} />\r\n                </ModalBody>\r\n            </Modal>\r\n            <Modal isOpen={modalDelete} toggle={toggleDelete} >\r\n                <ModalHeader toggle={toggleDelete}>\r\n                    {statusMapper(ticketToDelete?.laneId)}\r\n                    <br/>\r\n                    <small>Ticket id : {ticketToDelete?.id}</small>\r\n                </ModalHeader>\r\n                <ModalBody>\r\n                    <DeleteTicket ticket = {ticketToDelete} updateTicketTable={updateTicketTable} setModal={setModalDelete} />\r\n                </ModalBody>\r\n            </Modal>\r\n        </>\r\n    )\r\n}","import { TicketsAdmin } from \"../components/TicketsAdmin\"\r\n\r\nexport const Tickets = () => {\r\n\r\n    return (\r\n        \r\n            <TicketsAdmin/>\r\n       \r\n    )\r\n}","import  { useState } from 'react';\r\nimport { Collapse, Navbar, NavbarToggler, NavbarBrand, Nav, NavItem, NavLink } from 'reactstrap';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nexport const NavBar = ()=>{\r\n\r\n    const [collapsed, setCollapsed] = useState(true);\r\n\r\n    const toggleNavbar = () => setCollapsed(!collapsed);\r\n\r\n    return (\r\n\r\n        <div>\r\n            <Navbar color=\"dark\" expand=\"md\" dark>\r\n                <NavbarBrand className=\"mr-auto\">Manager</NavbarBrand>\r\n                <NavbarToggler onClick={toggleNavbar} className=\"mr-2\" />\r\n                <Collapse isOpen={!collapsed} navbar>\r\n                    <Nav className=\"ml-auto\" navbar>\r\n                        <NavItem>\r\n                            <NavLink><Link to=\"/\">Home</Link></NavLink>\r\n                        </NavItem>\r\n                        <NavItem>\r\n                            <NavLink><Link to=\"/tickets\">Tickets</Link></NavLink>\r\n                        </NavItem>\r\n                    </Nav>\r\n                </Collapse>\r\n            </Navbar>\r\n        </div>\r\n    )\r\n}","import React , {createContext , useContext , useReducer} from 'react';\r\n\r\nexport const StateContext = createContext();\r\n\r\nexport const StateProvider = ({ reducer , initialState , children}) => (\r\n    <StateContext.Provider value ={useReducer(reducer, initialState)}>  \r\n        {children}\r\n    </StateContext.Provider>\r\n)\r\n\r\nexport const useStateValue = () => useContext(StateContext);","import './App.css';\nimport { Home } from './pages/Home';\nimport { Tickets } from './pages/Tickets';\nimport { NavBar } from './components/NavBar';\nimport { useStateValue } from './providers/StateProvider';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n} from \"react-router-dom\";\n\nfunction App() {\n\n  const [ {user} ] = useStateValue();\n\n  return (\n    <div className=\"App\">\n      \n      {\n        !user ? \n            (<div>no logged</div>) \n          : \n            (<Router>\n              <NavBar/>\n                <Switch>\n                  <Route exact path=\"/\">\n                    <Home/>\n                  </Route>\n                  <Route exact path=\"/tickets\">\n                    <Tickets/>\n                  </Route>\n                </Switch>\n            </Router>)\n      }\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","export const initialState = {\r\n\r\n    user: JSON.parse(sessionStorage.getItem('user')) || 'null',\r\n\r\n};\r\n\r\nexport const actionTypes = {\r\n    SET_USER : \"SET_USER\",\r\n    REMOVE_USER : \"REMOVE_USER\",\r\n    UPDATE_PROFILE :\"UPDATE_PROFILE\",\r\n};\r\n\r\n\r\n\r\nconst reducer = (state ,action) => {\r\n    console.log(action)\r\n\r\n    switch (action.type) {\r\n\r\n        case actionTypes.SET_USER:\r\n            sessionStorage.setItem('user',JSON.stringify(action.user))\r\n            return{\r\n                ...state,\r\n                user:action.user\r\n            }\r\n\r\n        case actionTypes.REMOVE_USER:\r\n            sessionStorage.removeItem('user');\r\n            return{\r\n                ...state,\r\n                user:action.user\r\n            }\r\n        case actionTypes.UPDATE_PROFILE:\r\n            sessionStorage.setItem('user',JSON.stringify(action.user))\r\n            return{\r\n                ...state,\r\n                user:action.user\r\n            }\r\n            \r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default reducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { StateProvider } from './providers/StateProvider';\nimport reducer ,{initialState} from './reducers/reducer';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { faArrowRight, faCheckCircle, faEdit, faPlusCircle ,faTasks,faTrashAlt,faWrench} from '@fortawesome/free-solid-svg-icons';\n\nlibrary.add(faPlusCircle,faCheckCircle,faWrench,faTasks,faEdit,faTrashAlt,faArrowRight);\n\nReactDOM.render(\n  <React.StrictMode>\n    <StateProvider initialState ={initialState} reducer={reducer}>\n      <App />\n    </StateProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <StateProvider initialState ={initialState} reducer={reducer}>\n      <App />\n    </StateProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}